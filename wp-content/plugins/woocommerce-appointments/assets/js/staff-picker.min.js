jQuery(function(a){"use strict";var e={init:function(){a("body").on("change","#wc_appointments_field_staff",this.select_staff),a(".wc-appointments-appointment-form").each(function(){var t=a(this).closest("form").find(".wc_appointments_field_staff").find("select").select2({escapeMarkup:function(t){return t},templateResult:e.template_staff,templateSelection:e.template_staff,minimumResultsForSearch:6});null!==wca_get_querystring("staff")&&t.val(wca_get_querystring("staff")).trigger("change")})},template_staff:function(t){if(!t.id)return t.text;var e=t.element;return a(e).data("avatar")?'<img class="staff-avatar" src="'+a(e).data("avatar")+'" alt="'+t.text+'" />'+t.text:t.text},select_staff:function(){var t=a(this).closest("form");t.find(".wc-appointments-appointment-form-button").prop("disabled",!0),t.triggerHandler("staff-selected")}};e.init()});