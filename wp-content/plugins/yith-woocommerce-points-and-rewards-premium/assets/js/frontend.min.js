jQuery(document).ready(function(o){"use strict";var t=o("body");o(document).on("click",".ywpar-button-message",function(t){t.preventDefault();var a=o(this);a.hasClass("ywpar-button-percentage-discount")?a.next().find("form").submit():o(".ywpar_apply_discounts_container").slideToggle()}),o(document).on("click","#ywpar_apply_discounts",function(t){t.preventDefault(),o("#ywpar_input_points_check").val(1),o(this).parents("form").submit()}),o.fn.yith_ywpar_variations=function(t){var e=(t=o(".variations_form:not(.in_loop )")).closest(".product").find(".yith-par-message"),n=t.closest(".product").find(".yith-par-message-variation");e.length||(e=o(".product").find(".yith-par-message"),n=o(".product").find(".yith-par-message-variation")),e.length||(e=o(".yith-par-message"),n=o(".yith-par-message-variation"));var i=n.find(".product_point"),r=n.find(".product-point-conversion");t.on("found_variation",function(t,a){e.addClass("hide"),n.removeClass("hide"),0==a.variation_points&&n.addClass("hide"),a.variation_points&&i.text(a.variation_points),a.variation_price_discount_fixed_conversion&&r.html(a.variation_price_discount_fixed_conversion)}),t.on("reset_data",function(){n.addClass("hide"),e.removeClass("hide")}),t.find("select").first().trigger("change")},t.hasClass("single-product")&&o.fn.yith_ywpar_variations(),o(document).on("qv_loader_stop",function(){o.fn.yith_ywpar_variations()}),o(document.body).on("updated_cart_totals, added_to_cart, update_checkout",function(){var a=o("#yith-par-message-cart");0<a.length&&o.ajax({url:yith_wpar_general.wc_ajax_url.toString().replace("%%endpoint%%","ywpar_update_cart_messages"),type:"POST",beforeSend:function(){},success:function(t){""!==t?a.show().html(t):a.hide()}});var e=o("#yith-par-message-reward-cart");0<e.length&&o.ajax({url:yith_wpar_general.wc_ajax_url.toString().replace("%%endpoint%%","ywpar_update_cart_rewards_messages"),type:"POST",beforeSend:function(){},success:function(t){""!==t?e.show().html(t):e.hide()}})})});